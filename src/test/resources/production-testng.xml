<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">

<suite name="ProductionLikeTestSuite" parallel="tests" thread-count="2" verbose="2">
    
    <!-- Suite-level parameters -->
    <parameter name="browser" value="chrome" />
    <parameter name="environment" value="staging" />
    <parameter name="headless" value="true" />
    <parameter name="timeout" value="60" />
    <parameter name="retryCount" value="2" />
    
    <!-- ⭐ COMPREHENSIVE LISTENERS WITH FULL PACKAGE NAMES -->
    <listeners>
        <listener class-name="com.naveensdet.unifiedwebautomation.listeners.TestExecutionListener" />
        <listener class-name="com.naveensdet.unifiedwebautomation.listeners.SuiteListener" />
        <listener class-name="com.naveensdet.unifiedwebautomation.listeners.ScreenshotListener" />
        <listener class-name="com.naveensdet.unifiedwebautomation.listeners.RetryListener" />
    </listeners>
    
    <!-- ⭐ SMOKE TESTS ONLY (Avoid Duplication) -->
    <test name="ProductionSmokeTests" parallel="methods" thread-count="2">
        <parameter name="browser" value="chrome" />
        <parameter name="environment" value="staging" />
        
        <groups>
            <run>
                <include name="smoke" />  <!-- ✅ Smoke tests run ONLY here -->
            </run>
        </groups>
        
        <packages>
            <package name="com.naveensdet.unifiedwebautomation.tests.*" />
        </packages>
    </test>
    
    <!-- ⭐ REGRESSION TESTS (Excluding Smoke) -->
    <test name="ProductionRegressionTests" parallel="classes" thread-count="3">
        <parameter name="browser" value="chrome" />
        <parameter name="environment" value="staging" />
        
        <groups>
            <run>
                <include name="regression" />
                <exclude name="development" />
                <exclude name="unstable" />
                <exclude name="smoke" />      <!-- ✅ Exclude smoke to avoid duplication -->
            </run>
        </groups>
        
        <classes>
            <class name="com.naveensdet.unifiedwebautomation.tests.LoginTests" />
            <class name="com.naveensdet.unifiedwebautomation.tests.SearchTests" />
            <class name="com.naveensdet.unifiedwebautomation.tests.CheckoutTests" />
        </classes>
    </test>
    
    <!-- ⭐ CRITICAL PATH TESTS (Excluding Smoke) -->
    <test name="CriticalPathTests" parallel="methods" thread-count="2">
        <parameter name="browser" value="chrome" />
        <parameter name="environment" value="staging" />
        
        <groups>
            <run>
                <include name="critical" />
                <exclude name="smoke" />      <!-- ✅ Exclude smoke to avoid duplication -->
            </run>
        </groups>
        
        <packages>
            <package name="com.naveensdet.unifiedwebautomation.tests.critical.*" />
        </packages>
    </test>
    
</suite>
